!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Array.prototype.find=Array.prototype.find||function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),n=e.length>>>0,r=arguments[1],i=0;i<n;i++){var o=e[i];if(t.call(r,o,i,e))return o}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}
/*!
 * Signature Pad v4.0.5 | https://github.com/szimek/signature_pad
 * (c) 2022 Szymon Nowak | Released under the MIT license
 */n.r(e);var f=function(){function t(e,n,r,i){if(u(this,t),isNaN(e)||isNaN(n))throw new Error("Point is invalid: (".concat(e,", ").concat(n,")"));this.x=+e,this.y=+n,this.pressure=r||0,this.time=i||Date.now()}return h(t,[{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}},{key:"velocityFrom",value:function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}]),t}(),v=function(){function t(e,n,r,i,o,a){u(this,t),this.startPoint=e,this.control2=n,this.control1=r,this.endPoint=i,this.startWidth=o,this.endWidth=a}return h(t,[{key:"length",value:function(){for(var t,e,n=0,r=0;r<=10;r+=1){var i=r/10,o=this.point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=o-t,c=a-e;n+=Math.sqrt(s*s+c*c)}t=o,e=a}return n}},{key:"point",value:function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t}}],[{key:"fromPoints",value:function(e,n){var r=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],r,i,e[2],n.start,n.end)}},{key:"calculateControlPoints",value:function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=e.x-n.x,a=e.y-n.y,s=(t.x+e.x)/2,c=(t.y+e.y)/2,l=(e.x+n.x)/2,u=(e.y+n.y)/2,d=Math.sqrt(r*r+i*i),h=Math.sqrt(o*o+a*a),v=h/(d+h),y=l+(s-l)*v,p=u+(c-u)*v,m=e.x-y,g=e.y-p;return{c1:new f(s+m,c+g),c2:new f(l+m,u+g)}}}]),t}();function y(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=0,a=null,s=function(){o=Date.now(),a=null,e=t.apply(n,r),a||(n=null,r=[])};return function(){var c=Date.now(),l=i-(c-o);n=this;for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return r=d,l<=0||l>i?(a&&(clearTimeout(a),a=null),o=c,e=t.apply(n,r),a||(n=null,r=[])):a||(a=window.setTimeout(s,l)),e}}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(n,t);var e=s(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,n),(r=e.call(this)).canvas=t,r._handleMouseDown=function(t){1===t.buttons&&(r._drawningStroke=!0,r._strokeBegin(t))},r._handleMouseMove=function(t){r._drawningStroke&&r._strokeMoveUpdate(t)},r._handleMouseUp=function(t){1===t.buttons&&r._drawningStroke&&(r._drawningStroke=!1,r._strokeEnd(t))},r._handleTouchStart=function(t){if(t.preventDefault(),1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},r._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},r._handleTouchEnd=function(t){if(t.target===r.canvas){t.preventDefault();var e=t.changedTouches[0];r._strokeEnd(e)}},r._handlePointerStart=function(t){r._drawningStroke=!0,t.preventDefault(),r._strokeBegin(t)},r._handlePointerMove=function(t){r._drawningStroke&&(t.preventDefault(),r._strokeMoveUpdate(t))},r._handlePointerEnd=function(t){r._drawningStroke&&(t.preventDefault(),r._drawningStroke=!1,r._strokeEnd(t))},r.velocityFilterWeight=i.velocityFilterWeight||.7,r.minWidth=i.minWidth||.5,r.maxWidth=i.maxWidth||2.5,r.throttle="throttle"in i?i.throttle:16,r.minDistance="minDistance"in i?i.minDistance:5,r.dotSize=i.dotSize||0,r.penColor=i.penColor||"black",r.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",r._strokeMoveUpdate=r.throttle?y(n.prototype._strokeUpdate,r.throttle):n.prototype._strokeUpdate,r._ctx=t.getContext("2d"),r.clear(),r.on(),r}return h(n,[{key:"clear",value:function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0}},{key:"fromDataURL",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,i){var o=new Image,a=n.ratio||window.devicePixelRatio||1,s=n.width||e.canvas.width/a,c=n.height||e.canvas.height/a,l=n.xOffset||0,u=n.yOffset||0;e._reset(),o.onload=function(){e._ctx.drawImage(o,l,u,s,c),r()},o.onerror=function(t){i(t)},o.crossOrigin="anonymous",o.src=t,e._isEmpty=!1}))}},{key:"toDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1?arguments[1]:void 0;switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}}},{key:"on",value:function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";var t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}},{key:"off",value:function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"fromData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.clear,r=void 0===n||n;r&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}},{key:"toData",value:function(){return this._data}},{key:"_strokeBegin",value:function(t){this.dispatchEvent(new CustomEvent("beginStroke",{detail:t}));var e={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(e),this._reset(),this._strokeUpdate(t)}},{key:"_strokeUpdate",value:function(t){if(0!==this._data.length){this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));var e=t.clientX,n=t.clientY,r=void 0!==t.pressure?t.pressure:void 0!==t.force?t.force:0,i=this._createPoint(e,n,r),o=this._data[this._data.length-1],a=o.points,s=a.length>0&&a[a.length-1],c=!!s&&i.distanceTo(s)<=this.minDistance,l=o.penColor,u=o.dotSize,d=o.minWidth,h=o.maxWidth;if(!s||!s||!c){var f=this._addPoint(i);s?f&&this._drawCurve(f,{penColor:l,dotSize:u,minWidth:d,maxWidth:h}):this._drawDot(i,{penColor:l,dotSize:u,minWidth:d,maxWidth:h}),a.push({time:i.time,x:i.x,y:i.y,pressure:i.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}else this._strokeBegin(t)}},{key:"_strokeEnd",value:function(t){this._strokeUpdate(t),this.dispatchEvent(new CustomEvent("endStroke",{detail:t}))}},{key:"_handlePointerEvents",value:function(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}},{key:"_handleMouseEvents",value:function(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}},{key:"_handleTouchEvents",value:function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}},{key:"_reset",value:function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}},{key:"_createPoint",value:function(t,e,n){var r=this.canvas.getBoundingClientRect();return new f(t-r.left,e-r.top,n,(new Date).getTime())}},{key:"_addPoint",value:function(t){var e=this._lastPoints;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveWidths(e[1],e[2]),r=v.fromPoints(e,n);return e.shift(),r}return null}},{key:"_calculateCurveWidths",value:function(t,e){var n=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(n),i={end:r,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=r,i}},{key:"_strokeWidth",value:function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}},{key:"_drawCurveSegment",value:function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}},{key:"_drawCurve",value:function(t,e){var n=this._ctx,r=t.endWidth-t.startWidth,i=2*Math.ceil(t.length());n.beginPath(),n.fillStyle=e.penColor;for(var o=0;o<i;o+=1){var a=o/i,s=a*a,c=s*a,l=1-a,u=l*l,d=u*l,h=d*t.startPoint.x;h+=3*u*a*t.control1.x,h+=3*l*s*t.control2.x,h+=c*t.endPoint.x;var f=d*t.startPoint.y;f+=3*u*a*t.control1.y,f+=3*l*s*t.control2.y,f+=c*t.endPoint.y;var v=Math.min(t.startWidth+c*r,e.maxWidth);this._drawCurveSegment(h,f,v)}n.closePath(),n.fill()}},{key:"_drawDot",value:function(t,e){var n=this._ctx,r=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,r),n.closePath(),n.fillStyle=e.penColor,n.fill()}},{key:"_fromData",value:function(t,e,n){var r,o=i(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.penColor,c=a.dotSize,l=a.minWidth,u=a.maxWidth,d=a.points;if(d.length>1)for(var h=0;h<d.length;h+=1){var v=d[h],y=new f(v.x,v.y,v.pressure,v.time);this.penColor=s,0===h&&this._reset();var p=this._addPoint(y);p&&e(p,{penColor:s,dotSize:c,minWidth:l,maxWidth:u})}else this._reset(),n(d[0],{penColor:s,dotSize:c,minWidth:l,maxWidth:u})}}catch(t){o.e(t)}finally{o.f()}}},{key:"_toSVG",value:function(){var t=this._data,e=Math.max(window.devicePixelRatio||1,1),n=this.canvas.width/e,r=this.canvas.height/e,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",this.canvas.width.toString()),i.setAttribute("height",this.canvas.height.toString()),this._fromData(t,(function(t,e){var n=e.penColor,r=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var o="M ".concat(t.startPoint.x.toFixed(3),",").concat(t.startPoint.y.toFixed(3)," ")+"C ".concat(t.control1.x.toFixed(3),",").concat(t.control1.y.toFixed(3)," ")+"".concat(t.control2.x.toFixed(3),",").concat(t.control2.y.toFixed(3)," ")+"".concat(t.endPoint.x.toFixed(3),",").concat(t.endPoint.y.toFixed(3));r.setAttribute("d",o),r.setAttribute("stroke-width",(2.25*t.endWidth).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),i.appendChild(r)}}),(function(t,e){var n=e.penColor,r=e.dotSize,o=e.minWidth,a=e.maxWidth,s=document.createElement("circle"),c=r>0?r:(o+a)/2;s.setAttribute("r",c.toString()),s.setAttribute("cx",t.x.toString()),s.setAttribute("cy",t.y.toString()),s.setAttribute("fill",n),i.appendChild(s)}));var o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+' viewBox="'.concat(0," ").concat(0," ").concat(this.canvas.width," ").concat(this.canvas.height,'"')+' width="'.concat(n,'"')+' height="'.concat(r,'"')+">",a=i.innerHTML;if(void 0===a){var s=document.createElement("dummy"),c=i.childNodes;s.innerHTML="";for(var l=0;l<c.length;l+=1)s.appendChild(c[l].cloneNode(!0));a=s.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+a+"</svg>")}}]),n}(function(){function t(){u(this,t);try{this._et=new EventTarget}catch(t){this._et=document}}return h(t,[{key:"addEventListener",value:function(t,e,n){this._et.addEventListener(t,e,n)}},{key:"dispatchEvent",value:function(t){return this._et.dispatchEvent(t)}},{key:"removeEventListener",value:function(t,e,n){this._et.removeEventListener(t,e,n)}}]),t}());function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(0);var _={resizeHandlers:[],attributes:function(){return"undefined"!=typeof __FRMSIG?__FRMSIG:[]},resizeCanvas:function(t){var e=Math.max(window.devicePixelRatio||1,1);t.canvas.width=t.canvas.offsetWidth*e,t.canvas.height=t.canvas.offsetHeight*e,t.canvas.getContext("2d").scale(e,e),t.clear()},getAttr:function(t){if(0!==this.attributes().length){var e=this.attributes().find((function(e){return e.id===t}));return{id:t,backgroundColor:e.bgColour,penColor:e.text_color,dotSize:1.5,maxWidth:e.line_width,defaultTab:e.default_tab,width:e.width,lineWidth:e.line_width,lineColor:e.line_color,lineMargin:e.line_margin,lineTop:e.line_top}}},drawSigLine:function(t,e){var n=this,r=e.lineColor,i=t.querySelector(".frm-typed-drawline"),o=function(){var e=t.querySelector(".sigWrapper").offsetWidth,n=t.querySelector(".sigNav").offsetWidth;0===n&&(n=32),i.style.cssText="\n\t\t\t\twidth: ".concat(e-n-16,"px;\n\t\t\t\theight: 1px;\n\t\t\t\tbackground-color: ").concat(r,";\n\t\t\t")};o(),this.resizeHandlers.push(o),window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=function(){var t,e=m(n.resizeHandlers);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}},window.addEventListener("resize",this.resizeHandler)},drawSigBackgroundColor:function(t,e){"rgba(0,0,0,0)"!==e&&(t.querySelector(".sigWrapper").style.cssText+="\n\t\t--bg-color: ".concat(e,";\n\t\t"))},displayDrawIt:function(t,e){t.options.defaultTab="drawIt",e.querySelector(".pad").style.visibility="Visible",e.querySelector(".typed").style.visibility="hidden",e.querySelector(".typeIt a").setAttribute("class",""),e.querySelector(".drawIt a").setAttribute("class","frm-active-sig-type"),e.querySelector(".clearButton").style.visibility="Visible"},displayTypeIt:function(t,e){t.options.defaultTab="typeIt",e.querySelector(".pad").style.visibility="hidden",e.querySelector(".typed").style.visibility="Visible",e.querySelector(".drawIt a").setAttribute("class",""),e.querySelector(".typeIt a").setAttribute("class","frm-active-sig-type"),e.querySelector(".clearButton").style.visibility="hidden"},jsValidation:function(t){t.closest("form");var e=t.closest(".frm_form_field");e.classList.remove("frm_blank_field","has-error"),null!==e.querySelector(".form-field .frm_error")&&e.querySelector(".form-field .frm_error").remove(),null!==e.querySelector(".frm_error_style")&&e.querySelector(".frm_error_style").remove()}},w={instances:[],getSigPadPath:function(t){if(0!==t.length)return void 0===t.path?t.target.closest(".sigPad"):t.path.find((function(t){return t.classList.contains("sigPad")}))},killInstance:function(t){var e=this.instances.filter((function(e){return e.id!==t.dataset.fieldname}));this.instances=e},getInstance:function(t){if(0!==this.instances.length)return this.instances.find((function(e){return e.id===t}))},set setInstances(t){this.instances.push(t)},initInstance:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.dataset.fieldname,r=this.getInstance(n);if(!1!==e||void 0===r){var i=_.getAttr(t.dataset.fieldid);!0===e&&void 0!==r&&(i=r.options,this.killInstance(t));var o=new p(t,i),a=document.getElementsByName(o.canvas.dataset.fieldname+"[output]"),s=a[0].getAttribute("value");s&&(_.resizeCanvas(o),o.fromDataURL(s)),o.id=n,o.saveOutputNode=a,o.options=i,this.setInstances=o;var c=t.closest(".frm_field_"+t.dataset.fieldid+"_container");null===c&&(c=t.closest("#frm_field_"+t.dataset.fieldid+"_container")),"typeIt"===i.defaultTab?_.displayTypeIt(o,c):_.displayDrawIt(o,c),_.drawSigLine(c,i),_.drawSigBackgroundColor(c,i.backgroundColor),o.addEventListener("endStroke",(function(){a[0].setAttribute("value",o.toDataURL("image/png")),_.jsValidation(t)}));var l=t.closest(".sigPad"),u=l.querySelector(".typed input");u.addEventListener("input",(function(){_.jsValidation(t)}))}}},b=function(t){var e=t.form,n=t.force,r=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t||document;return{canvases:e.getElementsByClassName("pad"),clearButtons:e.getElementsByClassName("clearButton"),adminClearButtons:e.querySelectorAll(".frm-clear-signature"),drawItButtons:e.querySelectorAll(".sigNav .drawIt a"),typeItButtons:e.querySelectorAll(".sigNav .typeIt a")}}(e),i=r.canvases,o=r.clearButtons,a=r.adminClearButtons,s=r.drawItButtons,c=r.typeItButtons,l=function(t){var e=t.querySelector(".pad");if(0!==e.length)return e.dataset.fieldname},u=function(t){var e=w.getSigPadPath(t),n=w.getInstance(l(e));n.clear(),n.saveOutputNode[0].setAttribute("value","")};Array.prototype.forEach.call(i,(function(t){w.initInstance(t,n)})),Array.prototype.forEach.call(o,(function(t){t.addEventListener("click",(function(t){u(t)}))})),Array.prototype.forEach.call(s,(function(t){t.addEventListener("click",(function(t){t.preventDefault();var e=w.getSigPadPath(t),n=w.getInstance(l(e));_.displayDrawIt(n,e),_.drawSigLine(e,_.getAttr(n.canvas.dataset.fieldid)),this.setAttribute("class","frm-active-sig-type")}))})),Array.prototype.forEach.call(c,(function(t){t.addEventListener("click",(function(t){if(t.preventDefault(),function(t){var e=w.getSigPadPath(t);return void 0!==w.getInstance(l(e))}(t)){var e=w.getSigPadPath(t),n=w.getInstance(l(e));u(t),_.displayTypeIt(n,e),_.drawSigLine(e,_.getAttr(n.canvas.dataset.fieldid)),this.setAttribute("class","frm-active-sig-type")}}))})),0!==a.length&&Array.prototype.forEach.call(a,(function(t){t.addEventListener("click",(function(e){e.preventDefault();var n=t.closest(".frm_field_"+t.dataset.fieldid+"_container");null===n&&(n=t.closest("#frm_field_"+t.dataset.fieldid+"_container")),n.querySelector(".frm-delete-saved-image").value=1,n.querySelector(".sigPad").classList.remove("frm_hidden"),n.querySelector("img").classList.add("frm_hidden"),this.classList.add("frm_hidden")}))}))};var S,x=function(){b({form:!1,force:!0})};S=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),setTimeout((function(){b({form:!1,force:!1})}),0),jQuery(document).on("frmAfterAddRow frmPageChanged frmFormComplete",x),document.addEventListener("frm_after_start_over",(function(t){var e=document.querySelector("#frm_form_"+t.frmData.formId+"_container");Array.prototype.forEach.call(e.getElementsByClassName("pad"),(function(t){w.killInstance(t)})),b({form:e,force:!1})}))},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",S):S())}]);